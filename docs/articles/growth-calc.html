<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculating growth rates â€¢ ForestPlotR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Calculating growth rates">
<meta property="og:description" content="ForestPlotR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ForestPlotR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/data-format.html">Data formatting</a>
    </li>
    <li>
      <a href="../articles/describe-nbhds.html">Describing neighborhoods</a>
    </li>
    <li>
      <a href="../articles/growth-calc.html">Calculating growth rates</a>
    </li>
    <li>
      <a href="../articles/model-growth.html">Modeling tree growth and mortality</a>
    </li>
    <li>
      <a href="../articles/nbhd_size.html">Selecting neighborhood size</a>
    </li>
    <li>
      <a href="../articles/visualizations.html">Visualizing mapped stands</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/sgraham9319/ForestPlotR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="growth-calc_files/header-attrs-2.10/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Calculating growth rates</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sgraham9319/ForestPlotR/blob/master/vignettes/growth-calc.Rmd"><code>vignettes/growth-calc.Rmd</code></a></small>
      <div class="hidden name"><code>growth-calc.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://sgraham9319.github.io/ForestPlot/">ForestPlotR</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></code></pre></div>
<p>The ForestPlotR package contains two functions for calculating annual growth rates of trees in a tree census dataset. <code><a href="../reference/growth_summary.html">growth_summary()</a></code> uses the earliest and most recent measurements of each tree to calculate average annual growth over the entire period. <code><a href="../reference/detailed_growth.html">detailed_growth()</a></code> calculates average annual growth between each pair of consecutive measurements of each tree, thereby detecting any changes in growth rate of a single tree over time.</p>
<div id="growth_summary-calculate-overall-growth-rates" class="section level2">
<h2 class="hasAnchor">
<a href="#growth_summary-calculate-overall-growth-rates" class="anchor"></a><code>growth_summary()</code>: Calculate overall growth rates</h2>
<p>The <code><a href="../reference/growth_summary.html">growth_summary()</a></code> function takes a tree census dataset and extracts, for each tree in that dataset, the earliest and most recent measurement records. Using these extracted data, average annual growth rate for each tree is calculated as: <span class="math display">\[\frac{(final.size - begin.size)}{(last.record - first.record)}\]</span> NA values are returned for trees with only a single measurement record. A warning message indicating the number of trees with negative annual growth rates is also returned (a common occurrence due to measurement error, particularly for slow-growing tree species).</p>
<p>For trees that have a non-negative annual growth rate, a size-corrected annual growth rate is also calculated as: <span class="math display">\[\sqrt\frac{annual.growth}{begin.size}\]</span> This transformed growth rate tends to have a more linear relationship with tree size, potentially enabling linear tree growth modeling approaches.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">growth</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/growth_summary.html">growth_summary</a></span><span class="op">(</span><span class="va">tree</span><span class="op">)</span>
<span class="co">#&gt; [1] "Warning: 139 trees exhibited negative annual growth"</span>
<span class="va">growth</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">tree_id</span>, <span class="va">stand_id</span>, <span class="va">species</span>, <span class="va">begin_size</span>, <span class="va">annual_growth</span>, <span class="va">annual_bai</span>,
         <span class="va">size_corr_growth</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 9,155 x 7</span>
<span class="co">#&gt;   tree_id       stand_id species begin_size annual_growth annual_bai size_corr_growth</span>
<span class="co">#&gt;   &lt;chr&gt;         &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt;         &lt;dbl&gt;      &lt;dbl&gt;            &lt;dbl&gt;</span>
<span class="co">#&gt; 1 AB08000100001 AB08     TSHE          48.2        0.0615       4.78           0.0357</span>
<span class="co">#&gt; 2 AB08000100002 AB08     TSHE          76.3        0.136       16.9            0.0422</span>
<span class="co">#&gt; 3 AB08000100003 AB08     TSHE          15.7        0.115        3.25           0.0857</span>
<span class="co">#&gt; 4 AB08000100004 AB08     TSHE          50.5        0.0897       7.37           0.0422</span>
<span class="co">#&gt; # ... with 9,151 more rows</span></code></pre></div>
</div>
<div id="detailed_growth-calculate-between-census-growth-rates" class="section level2">
<h2 class="hasAnchor">
<a href="#detailed_growth-calculate-between-census-growth-rates" class="anchor"></a><code>detailed_growth()</code>: Calculate between-census growth rates</h2>
<p>The <code><a href="../reference/detailed_growth.html">detailed_growth()</a></code> function works similarly to <code><a href="../reference/growth_summary.html">growth_summary()</a></code> in that it takes a tree census dataset and calculates average annual growth. The difference is that <code><a href="../reference/detailed_growth.html">detailed_growth()</a></code> calculates a separate growth rate between each pair of consecutive measurements for each tree as: <span class="math display">\[\frac{size_2 - size_1}{year_2 - year_1}\]</span> It is expected that many more cases of negative growth rates will occur when calculating growth rate between each pair of consecutive censuses and this is the main motivation for instead calculating a single average annual growth rate for each tree using <code><a href="../reference/growth_summary.html">growth_summary()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">bt_census_growth</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/detailed_growth.html">detailed_growth</a></span><span class="op">(</span><span class="va">tree</span><span class="op">)</span>
<span class="co">#&gt; [1] "Warning: 2913 cases of negative annual growth"</span>
<span class="va">bt_census_growth</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">tree_id</span>, <span class="va">stand_id</span>, <span class="va">species</span>, <span class="va">start_year</span>, <span class="va">end_year</span>, <span class="va">annual_growth</span>,
         <span class="va">annual_bai</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 50,959 x 7</span>
<span class="co">#&gt; # Groups:   tree_id [8,721]</span>
<span class="co">#&gt;   tree_id       stand_id species start_year end_year annual_growth annual_bai</span>
<span class="co">#&gt;   &lt;chr&gt;         &lt;chr&gt;    &lt;chr&gt;        &lt;int&gt;    &lt;int&gt;         &lt;dbl&gt;      &lt;dbl&gt;</span>
<span class="co">#&gt; 1 AB08000100001 AB08     TSHE          1978     1984        0            0   </span>
<span class="co">#&gt; 2 AB08000100001 AB08     TSHE          1984     1990        0.0667       5.07</span>
<span class="co">#&gt; 3 AB08000100001 AB08     TSHE          1990     1995        0.0800       6.13</span>
<span class="co">#&gt; 4 AB08000100001 AB08     TSHE          1995     2002        0.0857       6.64</span>
<span class="co">#&gt; # ... with 50,955 more rows</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/sgraham9319">Stuart Graham</a>, <a href="https://github.com/arokem">Ariel Rokem</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
